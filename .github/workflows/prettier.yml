name: Prettier

on:
    push:
        branches: [main]
        paths:
            - "domains/*"
            - ".github/workflows/prettier.yml"

jobs:
    format:
        name: Format
        runs-on: ubuntu-latest

        steps:
            - uses: actions/checkout@v4

            - uses: actions/setup-node@v4
              with:
                  node-version: 20.x

            - name: Run Prettier
              run: npx -y prettier ./domains -w --tab-width 2 --print-width 120

            - name: Commit
              uses: cpina/github-action-push-to-another-repository@main
              with:
                  source-directory: "."
                  destination-github-username: is-a-dev
                  destination-repository-name: register
                  user-email: "bot@is-a.dev"
                  user-name: "is-a-dev-bot"
              env:
                  API_TOKEN_GITHUB: ${{ secrets.BOT }}
